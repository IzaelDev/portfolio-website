import{R as qe,P as Qe,V as x,Q as Ae,a as ce,O as le,S as xe,b as L,M as Z,T as X,u as M,r as y,W as $e,L as Le,H as Je,D as et,F as tt,c as Se,j as Y,d as nt,I as ot}from"./index-aVz7jOBi.js";function ee(){return ee=Object.assign?Object.assign.bind():function(u){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)({}).hasOwnProperty.call(r,e)&&(u[e]=r[e])}return u},ee.apply(null,arguments)}var at=Object.defineProperty,st=(u,a,r)=>a in u?at(u,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[a]=r,it=(u,a,r)=>(st(u,a+"",r),r);class rt{constructor(){it(this,"_listeners")}addEventListener(a,r){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[a]===void 0&&(e[a]=[]),e[a].indexOf(r)===-1&&e[a].push(r)}hasEventListener(a,r){if(this._listeners===void 0)return!1;const e=this._listeners;return e[a]!==void 0&&e[a].indexOf(r)!==-1}removeEventListener(a,r){if(this._listeners===void 0)return;const P=this._listeners[a];if(P!==void 0){const b=P.indexOf(r);b!==-1&&P.splice(b,1)}}dispatchEvent(a){if(this._listeners===void 0)return;const e=this._listeners[a.type];if(e!==void 0){a.target=this;const P=e.slice(0);for(let b=0,O=P.length;b<O;b++)P[b].call(this,a);a.target=null}}}var ct=Object.defineProperty,lt=(u,a,r)=>a in u?ct(u,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[a]=r,o=(u,a,r)=>(lt(u,typeof a!="symbol"?a+"":a,r),r);const J=new qe,De=new Qe,ut=Math.cos(70*(Math.PI/180)),_e=(u,a)=>(u%a+a)%a;let ht=class extends rt{constructor(a,r){super(),o(this,"object"),o(this,"domElement"),o(this,"enabled",!0),o(this,"target",new x),o(this,"minDistance",0),o(this,"maxDistance",1/0),o(this,"minZoom",0),o(this,"maxZoom",1/0),o(this,"minPolarAngle",0),o(this,"maxPolarAngle",Math.PI),o(this,"minAzimuthAngle",-1/0),o(this,"maxAzimuthAngle",1/0),o(this,"enableDamping",!1),o(this,"dampingFactor",.05),o(this,"enableZoom",!0),o(this,"zoomSpeed",1),o(this,"enableRotate",!0),o(this,"rotateSpeed",1),o(this,"enablePan",!0),o(this,"panSpeed",1),o(this,"screenSpacePanning",!0),o(this,"keyPanSpeed",7),o(this,"zoomToCursor",!1),o(this,"autoRotate",!1),o(this,"autoRotateSpeed",2),o(this,"reverseOrbit",!1),o(this,"reverseHorizontalOrbit",!1),o(this,"reverseVerticalOrbit",!1),o(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),o(this,"mouseButtons",{LEFT:Z.ROTATE,MIDDLE:Z.DOLLY,RIGHT:Z.PAN}),o(this,"touches",{ONE:X.ROTATE,TWO:X.DOLLY_PAN}),o(this,"target0"),o(this,"position0"),o(this,"zoom0"),o(this,"_domElementKeyEvents",null),o(this,"getPolarAngle"),o(this,"getAzimuthalAngle"),o(this,"setPolarAngle"),o(this,"setAzimuthalAngle"),o(this,"getDistance"),o(this,"getZoomScale"),o(this,"listenToKeyEvents"),o(this,"stopListenToKeyEvents"),o(this,"saveState"),o(this,"reset"),o(this,"update"),o(this,"connect"),o(this,"dispose"),o(this,"dollyIn"),o(this,"dollyOut"),o(this,"getScale"),o(this,"setScale"),this.object=a,this.domElement=r,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=t=>{let n=_e(t,2*Math.PI),s=c.phi;s<0&&(s+=2*Math.PI),n<0&&(n+=2*Math.PI);let h=Math.abs(n-s);2*Math.PI-h<h&&(n<s?n+=2*Math.PI:s+=2*Math.PI),f.phi=n-s,e.update()},this.setAzimuthalAngle=t=>{let n=_e(t,2*Math.PI),s=c.theta;s<0&&(s+=2*Math.PI),n<0&&(n+=2*Math.PI);let h=Math.abs(n-s);2*Math.PI-h<h&&(n<s?n+=2*Math.PI:s+=2*Math.PI),f.theta=n-s,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",ie),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ie),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(P),e.update(),l=i.NONE},this.update=(()=>{const t=new x,n=new x(0,1,0),s=new Ae().setFromUnitVectors(a.up,n),h=s.clone().invert(),T=new x,C=new Ae,F=2*Math.PI;return function(){const je=e.object.position;s.setFromUnitVectors(a.up,n),h.copy(s).invert(),t.copy(je).sub(e.target),t.applyQuaternion(s),c.setFromVector3(t),e.autoRotate&&l===i.NONE&&te(Re()),e.enableDamping?(c.theta+=f.theta*e.dampingFactor,c.phi+=f.phi*e.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let z=e.minAzimuthAngle,k=e.maxAzimuthAngle;isFinite(z)&&isFinite(k)&&(z<-Math.PI?z+=F:z>Math.PI&&(z-=F),k<-Math.PI?k+=F:k>Math.PI&&(k-=F),z<=k?c.theta=Math.max(z,Math.min(k,c.theta)):c.theta=c.theta>(z+k)/2?Math.max(z,c.theta):Math.min(k,c.theta)),c.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,c.phi)),c.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(j,e.dampingFactor):e.target.add(j),e.zoomToCursor&&S||e.object.isOrthographicCamera?c.radius=ae(c.radius):c.radius=ae(c.radius*g),t.setFromSpherical(c),t.applyQuaternion(h),je.copy(e.target).add(t),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(f.theta*=1-e.dampingFactor,f.phi*=1-e.dampingFactor,j.multiplyScalar(1-e.dampingFactor)):(f.set(0,0,0),j.set(0,0,0));let W=!1;if(e.zoomToCursor&&S){let B=null;if(e.object instanceof ce&&e.object.isPerspectiveCamera){const G=t.length();B=ae(G*g);const $=G-B;e.object.position.addScaledVector(K,$),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const G=new x(A.x,A.y,0);G.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/g)),e.object.updateProjectionMatrix(),W=!0;const $=new x(A.x,A.y,0);$.unproject(e.object),e.object.position.sub($).add(G),e.object.updateMatrixWorld(),B=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;B!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(B).add(e.object.position):(J.origin.copy(e.object.position),J.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(J.direction))<ut?a.lookAt(e.target):(De.setFromNormalAndCoplanarPoint(e.object.up,e.target),J.intersectPlane(De,e.target))))}else e.object instanceof le&&e.object.isOrthographicCamera&&(W=g!==1,W&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/g)),e.object.updateProjectionMatrix()));return g=1,S=!1,W||T.distanceToSquared(e.object.position)>D||8*(1-C.dot(e.object.quaternion))>D?(e.dispatchEvent(P),T.copy(e.object.position),C.copy(e.object.quaternion),W=!1,!0):!1}})(),this.connect=t=>{e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Me),e.domElement.addEventListener("pointerdown",Oe),e.domElement.addEventListener("pointercancel",V),e.domElement.addEventListener("wheel",we)},this.dispose=()=>{var t,n,s,h,T,C;e.domElement&&(e.domElement.style.touchAction="auto"),(t=e.domElement)==null||t.removeEventListener("contextmenu",Me),(n=e.domElement)==null||n.removeEventListener("pointerdown",Oe),(s=e.domElement)==null||s.removeEventListener("pointercancel",V),(h=e.domElement)==null||h.removeEventListener("wheel",we),(T=e.domElement)==null||T.ownerDocument.removeEventListener("pointermove",se),(C=e.domElement)==null||C.ownerDocument.removeEventListener("pointerup",V),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",ie)};const e=this,P={type:"change"},b={type:"start"},O={type:"end"},i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=i.NONE;const D=1e-6,c=new xe,f=new xe;let g=1;const j=new x,v=new L,w=new L,m=new L,R=new L,I=new L,N=new L,_=new L,E=new L,p=new L,K=new x,A=new L;let S=!1;const d=[],q={};function Re(){return 2*Math.PI/60/60*e.autoRotateSpeed}function H(){return Math.pow(.95,e.zoomSpeed)}function te(t){e.reverseOrbit||e.reverseHorizontalOrbit?f.theta+=t:f.theta-=t}function ue(t){e.reverseOrbit||e.reverseVerticalOrbit?f.phi+=t:f.phi-=t}const he=(()=>{const t=new x;return function(s,h){t.setFromMatrixColumn(h,0),t.multiplyScalar(-s),j.add(t)}})(),de=(()=>{const t=new x;return function(s,h){e.screenSpacePanning===!0?t.setFromMatrixColumn(h,1):(t.setFromMatrixColumn(h,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(s),j.add(t)}})(),U=(()=>{const t=new x;return function(s,h){const T=e.domElement;if(T&&e.object instanceof ce&&e.object.isPerspectiveCamera){const C=e.object.position;t.copy(C).sub(e.target);let F=t.length();F*=Math.tan(e.object.fov/2*Math.PI/180),he(2*s*F/T.clientHeight,e.object.matrix),de(2*h*F/T.clientHeight,e.object.matrix)}else T&&e.object instanceof le&&e.object.isOrthographicCamera?(he(s*(e.object.right-e.object.left)/e.object.zoom/T.clientWidth,e.object.matrix),de(h*(e.object.top-e.object.bottom)/e.object.zoom/T.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function ne(t){e.object instanceof ce&&e.object.isPerspectiveCamera||e.object instanceof le&&e.object.isOrthographicCamera?g=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Q(t){ne(g/t)}function oe(t){ne(g*t)}function fe(t){if(!e.zoomToCursor||!e.domElement)return;S=!0;const n=e.domElement.getBoundingClientRect(),s=t.clientX-n.left,h=t.clientY-n.top,T=n.width,C=n.height;A.x=s/T*2-1,A.y=-(h/C)*2+1,K.set(A.x,A.y,1).unproject(e.object).sub(e.object.position).normalize()}function ae(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function pe(t){v.set(t.clientX,t.clientY)}function Ie(t){fe(t),_.set(t.clientX,t.clientY)}function me(t){R.set(t.clientX,t.clientY)}function Ne(t){w.set(t.clientX,t.clientY),m.subVectors(w,v).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&(te(2*Math.PI*m.x/n.clientHeight),ue(2*Math.PI*m.y/n.clientHeight)),v.copy(w),e.update()}function Ce(t){E.set(t.clientX,t.clientY),p.subVectors(E,_),p.y>0?Q(H()):p.y<0&&oe(H()),_.copy(E),e.update()}function ze(t){I.set(t.clientX,t.clientY),N.subVectors(I,R).multiplyScalar(e.panSpeed),U(N.x,N.y),R.copy(I),e.update()}function ke(t){fe(t),t.deltaY<0?oe(H()):t.deltaY>0&&Q(H()),e.update()}function Ye(t){let n=!1;switch(t.code){case e.keys.UP:U(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:U(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:U(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:U(-e.keyPanSpeed,0),n=!0;break}n&&(t.preventDefault(),e.update())}function be(){if(d.length==1)v.set(d[0].pageX,d[0].pageY);else{const t=.5*(d[0].pageX+d[1].pageX),n=.5*(d[0].pageY+d[1].pageY);v.set(t,n)}}function ge(){if(d.length==1)R.set(d[0].pageX,d[0].pageY);else{const t=.5*(d[0].pageX+d[1].pageX),n=.5*(d[0].pageY+d[1].pageY);R.set(t,n)}}function Ee(){const t=d[0].pageX-d[1].pageX,n=d[0].pageY-d[1].pageY,s=Math.sqrt(t*t+n*n);_.set(0,s)}function Fe(){e.enableZoom&&Ee(),e.enablePan&&ge()}function He(){e.enableZoom&&Ee(),e.enableRotate&&be()}function ye(t){if(d.length==1)w.set(t.pageX,t.pageY);else{const s=re(t),h=.5*(t.pageX+s.x),T=.5*(t.pageY+s.y);w.set(h,T)}m.subVectors(w,v).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&(te(2*Math.PI*m.x/n.clientHeight),ue(2*Math.PI*m.y/n.clientHeight)),v.copy(w)}function Pe(t){if(d.length==1)I.set(t.pageX,t.pageY);else{const n=re(t),s=.5*(t.pageX+n.x),h=.5*(t.pageY+n.y);I.set(s,h)}N.subVectors(I,R).multiplyScalar(e.panSpeed),U(N.x,N.y),R.copy(I)}function Te(t){const n=re(t),s=t.pageX-n.x,h=t.pageY-n.y,T=Math.sqrt(s*s+h*h);E.set(0,T),p.set(0,Math.pow(E.y/_.y,e.zoomSpeed)),Q(p.y),_.copy(E)}function Ue(t){e.enableZoom&&Te(t),e.enablePan&&Pe(t)}function Ze(t){e.enableZoom&&Te(t),e.enableRotate&&ye(t)}function Oe(t){var n,s;e.enabled!==!1&&(d.length===0&&((n=e.domElement)==null||n.ownerDocument.addEventListener("pointermove",se),(s=e.domElement)==null||s.ownerDocument.addEventListener("pointerup",V)),Be(t),t.pointerType==="touch"?Ve(t):Xe(t))}function se(t){e.enabled!==!1&&(t.pointerType==="touch"?We(t):Ke(t))}function V(t){var n,s,h;Ge(t),d.length===0&&((n=e.domElement)==null||n.releasePointerCapture(t.pointerId),(s=e.domElement)==null||s.ownerDocument.removeEventListener("pointermove",se),(h=e.domElement)==null||h.ownerDocument.removeEventListener("pointerup",V)),e.dispatchEvent(O),l=i.NONE}function Xe(t){let n;switch(t.button){case 0:n=e.mouseButtons.LEFT;break;case 1:n=e.mouseButtons.MIDDLE;break;case 2:n=e.mouseButtons.RIGHT;break;default:n=-1}switch(n){case Z.DOLLY:if(e.enableZoom===!1)return;Ie(t),l=i.DOLLY;break;case Z.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;me(t),l=i.PAN}else{if(e.enableRotate===!1)return;pe(t),l=i.ROTATE}break;case Z.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;pe(t),l=i.ROTATE}else{if(e.enablePan===!1)return;me(t),l=i.PAN}break;default:l=i.NONE}l!==i.NONE&&e.dispatchEvent(b)}function Ke(t){if(e.enabled!==!1)switch(l){case i.ROTATE:if(e.enableRotate===!1)return;Ne(t);break;case i.DOLLY:if(e.enableZoom===!1)return;Ce(t);break;case i.PAN:if(e.enablePan===!1)return;ze(t);break}}function we(t){e.enabled===!1||e.enableZoom===!1||l!==i.NONE&&l!==i.ROTATE||(t.preventDefault(),e.dispatchEvent(b),ke(t),e.dispatchEvent(O))}function ie(t){e.enabled===!1||e.enablePan===!1||Ye(t)}function Ve(t){switch(ve(t),d.length){case 1:switch(e.touches.ONE){case X.ROTATE:if(e.enableRotate===!1)return;be(),l=i.TOUCH_ROTATE;break;case X.PAN:if(e.enablePan===!1)return;ge(),l=i.TOUCH_PAN;break;default:l=i.NONE}break;case 2:switch(e.touches.TWO){case X.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Fe(),l=i.TOUCH_DOLLY_PAN;break;case X.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;He(),l=i.TOUCH_DOLLY_ROTATE;break;default:l=i.NONE}break;default:l=i.NONE}l!==i.NONE&&e.dispatchEvent(b)}function We(t){switch(ve(t),l){case i.TOUCH_ROTATE:if(e.enableRotate===!1)return;ye(t),e.update();break;case i.TOUCH_PAN:if(e.enablePan===!1)return;Pe(t),e.update();break;case i.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ue(t),e.update();break;case i.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ze(t),e.update();break;default:l=i.NONE}}function Me(t){e.enabled!==!1&&t.preventDefault()}function Be(t){d.push(t)}function Ge(t){delete q[t.pointerId];for(let n=0;n<d.length;n++)if(d[n].pointerId==t.pointerId){d.splice(n,1);return}}function ve(t){let n=q[t.pointerId];n===void 0&&(n=new L,q[t.pointerId]=n),n.set(t.pageX,t.pageY)}function re(t){const n=t.pointerId===d[0].pointerId?d[1]:d[0];return q[n.pointerId]}this.dollyIn=(t=H())=>{oe(t),e.update()},this.dollyOut=(t=H())=>{Q(t),e.update()},this.getScale=()=>g,this.setScale=t=>{ne(t),e.update()},this.getZoomScale=()=>H(),r!==void 0&&this.connect(r),this.update()}};function dt(u,a,r){const e=M(g=>g.size),P=M(g=>g.viewport),b=typeof u=="number"?u:e.width*P.dpr,O=e.height*P.dpr,i=(typeof u=="number"?r:u)||{},{samples:l=0,depth:D,...c}=i,f=y.useMemo(()=>{const g=new $e(b,O,{minFilter:Le,magFilter:Le,type:Je,...c});return D&&(g.depthTexture=new et(b,O,tt)),g.samples=l,g},[]);return y.useLayoutEffect(()=>{f.setSize(b,O),l&&(f.samples=l)},[l,f,b,O]),y.useEffect(()=>()=>f.dispose(),[]),f}const ft=u=>typeof u=="function",pt=y.forwardRef(({envMap:u,resolution:a=256,frames:r=1/0,makeDefault:e,children:P,...b},O)=>{const i=M(({set:m})=>m),l=M(({camera:m})=>m),D=M(({size:m})=>m),c=y.useRef(null);y.useImperativeHandle(O,()=>c.current,[]);const f=y.useRef(null),g=dt(a);y.useLayoutEffect(()=>{b.manual||(c.current.aspect=D.width/D.height)},[D,b]),y.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let j=0,v=null;const w=ft(P);return Se(m=>{w&&(r===1/0||j<r)&&(f.current.visible=!1,m.gl.setRenderTarget(g),v=m.scene.background,u&&(m.scene.background=u),m.gl.render(m.scene,c.current),m.scene.background=v,m.gl.setRenderTarget(null),f.current.visible=!0,j++)}),y.useLayoutEffect(()=>{if(e){const m=l;return i(()=>({camera:c.current})),()=>i(()=>({camera:m}))}},[c,e,i]),y.createElement(y.Fragment,null,y.createElement("perspectiveCamera",ee({ref:c},b),!w&&P),y.createElement("group",{ref:f},w&&P(g.texture)))}),mt=y.forwardRef(({makeDefault:u,camera:a,regress:r,domElement:e,enableDamping:P=!0,keyEvents:b=!1,onChange:O,onStart:i,onEnd:l,...D},c)=>{const f=M(p=>p.invalidate),g=M(p=>p.camera),j=M(p=>p.gl),v=M(p=>p.events),w=M(p=>p.setEvents),m=M(p=>p.set),R=M(p=>p.get),I=M(p=>p.performance),N=a||g,_=e||v.connected||j.domElement,E=y.useMemo(()=>new ht(N),[N]);return Se(()=>{E.enabled&&E.update()},-1),y.useEffect(()=>(b&&E.connect(b===!0?_:b),E.connect(_),()=>void E.dispose()),[b,_,r,E,f]),y.useEffect(()=>{const p=S=>{f(),r&&I.regress(),O&&O(S)},K=S=>{i&&i(S)},A=S=>{l&&l(S)};return E.addEventListener("change",p),E.addEventListener("start",K),E.addEventListener("end",A),()=>{E.removeEventListener("start",K),E.removeEventListener("end",A),E.removeEventListener("change",p)}},[O,i,l,E,f,w]),y.useEffect(()=>{if(u){const p=R().controls;return m({controls:E}),()=>m({controls:p})}},[u,E]),y.createElement("primitive",ee({ref:c,object:E,enableDamping:P},D))});function yt({modelRef:u}){return y.useRef(),Y.jsxs(Y.Fragment,{children:[Y.jsx(mt,{target:[0,.42,0],maxPolarAngle:1.35,minPolarAngle:1.35,enableZoom:!1}),Y.jsx(pt,{makeDefault:!0,position:[0,.35,1]}),Y.jsx("ambientLight",{intensity:.8,castShadow:!1}),Y.jsx(nt,{ref:u}),Y.jsx(ot,{}),Y.jsx("directionalLight",{className:"bg-[#ffebc4]",castShadow:!0,position:[1,100,-1],intensity:2.5,color:"#ffebc4","shadow-bias":-1e-4,"shadow-normalBias":.01,"shadow-mapSize-width":4096,"shadow-mapSize-height":4096,children:Y.jsx("orthographicCamera",{attach:"shadow-camera"})})]})}export{yt as default};
